#  Keycloak Demo## What This Does- OIDC authentication with Keycloak- HTTPS-secured Spring Boot frontend and backend- JWT token validation- Role-based access control- Full Docker containerization## Quick Start- Prerequisites: Docker Desktop, Windows PowerShell- Run as Administrator: `.\add-hosts-entries.ps1`- Generate certificates: `.\generate-nginx-certs.ps1`- Start: `docker-compose up -d --build`- Wait 60 seconds- Open: `https://app.keycloak-demo.local`- Login: `my_role` / `testuser123`- Test: Click "Calendar Service" button## Common Commands- Check status: `docker-compose ps`- View logs: `docker-compose logs -f`- Stop: `docker-compose down`- Fresh start: `docker-compose down -v` then `docker-compose up -d --build`- Restart service: `docker-compose restart <service>`## Troubleshooting- Cannot access URL: Run `.\add-hosts-entries.ps1` as Administrator- Browser warning: Click "Advanced"  "Proceed" (self-signed cert)- Login fails: Wait 60 seconds, check `docker-compose ps`- Backend unavailable: Refresh page (F5) or `docker-compose restart backend`- Port in use: `netstat -ano | findstr :443` then `taskkill /PID <PID> /F`- Services restart: Docker Desktop  Settings  Resources  4GB+ RAM- Last Resort option: `docker-compose down -v` then `docker system prune -a`## Project Structure- `docker-compose.yml` - 5 service definitions- `myrealm.json` - Keycloak configuration- `frontend/` - Web application (OAuth2 client)- `backend/` - API server (JWT validation)- `nginx/` - Reverse proxy (HTTPS)- `*.ps1` - Setup scripts## OAuth2 Flow1. User visits app2. Clicks login  Redirected to Keycloak3. Enters credentials4. Keycloak returns authorization code5. Frontend exchanges for JWT token6. User clicks "Calendar Service"7. Frontend calls backend with Bearer token8. Backend validates with Keycloak9. Backend checks user role10. Backend returns data## Security Features- HTTPS for all traffic- JWT signature validation- Token issuer verification- Role-based access- Circuit breaker pattern- No passwords in application## Technology Stack- Frontend: Spring Boot 3.1.0 + Thymeleaf- Backend: Spring Boot 3.1.0 + Spring Security- Auth: Keycloak 21.1.1- Database: PostgreSQL 15- Proxy: Nginx 1.25- Resilience: Resilience4j 2.1.0- Container: Docker Compose## Testing- Browser: Login and click "Calendar Service"- Services: `docker-compose ps`- Keycloak: `curl -k https://auth.keycloak-demo.local/realms/myrealm/.well-known/openid-configuration`- Backend: `curl -k https://backend.keycloak-demo.local/actuator/health`- Frontend: `curl -k https://app.keycloak-demo.local/actuator/health`## Access- App: `https://app.keycloak-demo.local`- Admin: `https://auth.keycloak-demo.local/admin`- API: `https://backend.keycloak-demo.local/api/calendar`## Users- Test: `my_role` / `testuser123` (roles: user, calendar-user)- Admin: `admin` / `admin123` (Keycloak Admin console)